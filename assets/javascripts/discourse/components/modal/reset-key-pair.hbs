<DModal
  {{did-insert this.loadStats}}
  @title={{i18n "encrypt.reset.title"}}
  @closeModal={{@closeModal}}
>
  <:body>
    <ConditionalLoadingSection @isLoading={{this.isLoadingStats}}>
      {{#if this.encryptedPmsCount}}
        <p>{{i18n "encrypt.reset.instructions"}}</p>
        <p>
          {{html-safe
            (i18n
              "encrypt.reset.instructions_lost_pms" count=this.encryptedPmsCount
            )
          }}
          {{html-safe
            (i18n
              "encrypt.reset.confirm_instructions"
              username=this.currentUser.username
            )
          }}
        </p>
        <Input @type="text" @value={{this.confirmation}} />
      {{else}}
        <p>{{i18n "encrypt.reset.instructions_safe"}}</p>
      {{/if}}
    </ConditionalLoadingSection>
  </:body>

  <:footer>
    <DButton
      class="btn btn-danger"
      @icon="trash-alt"
      @label="encrypt.reset.title"
      @action={{this.reset}}
      @disabled={{this.disabled}}
    />
    <DModalCancel @close={{@closeModal}} />
  </:footer>
</DModal>